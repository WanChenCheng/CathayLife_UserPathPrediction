---
title: CathayLifeProject
emoji: 🚀
colorFrom: green
colorTo: green
sdk: streamlit
app_port: 8501
tags:
- streamlit
pinned: false
short_description: Streamlit template space
license: mit
---
# 國泰人壽用戶行為預測工具

**這是一個基於深度學習的用戶行為預測工具，使用 LSTM 模型預測用戶的下一步行為、網路投保機率以及預約O2O機率，並提供後續行銷建議。**

## 《 功能特色 》
- 多輸出預測：行為分組、線上轉換機率、O2O 預約機率
- 互動式資料視覺化
- CSV 檔案上傳與預測期間篩選
- 分析結果篩選與下載
- 行銷策略建議
  
-------------------------------

## 《 使用方法 》
1. 上傳包含用戶行為資料的 CSV 檔案
2. 選擇要給模型讀取並預測的期間
3. 點擊「開始預測」，開始進行預測分析
4. 查看預測結果及視覺化圖表
5. 依據所需條件篩選預測分析結果
6. 下載預測分析結果

-------------------------------

## 《 執行預測所需欄位 》
- user_pseudo_id：用戶 ID
- event_time：事件時間
- action_group：行為類別
- source：來源
- medium：媒介
- platform：平台
- staytime：停留時間
- has_shared：是否Line轉傳分享
- revisit_count：回訪次數

-------------------------------

## 《 action_group 說明 》

我們將所有用戶軌跡歸納為60種action_group。

<details>
<summary> action_group清單 </summary>
  
- 完成網路投保
- 完成O2O
- 線上繳費
- 資料填寫與確認
- 投保資格確認
- 方案確認
- 手機驗證碼
- 填寫預約資料
- 挑選預約顧問
- 預約顧問與商品諮詢
- 立即投保
- 保存與分享試算結果
- Line分享轉傳
- 保存與分享自由配、訂製組合結果
- 自由配－保障規劃試算結果
- 自由配－配置我的基金試算結果
- 訂製保險組合－人身規劃試算結果
- 訂製保險組合－投資規劃試算結果
- 我的保險試算結果
- 自由配
- 自由配－投資規劃
- 自由配－保障規劃
- 自由配－套餐
- 訂製保險組合
- 試算: 網投－旅平險－試算
- 試算: 網投－壽險－試算
- 試算: 網投－健康險－試算
- 試算: 網投－意外傷害險－試算
- 試算: 網投－年金險－試算
- 試算: 網投－投資型年金險－試算
- 試算: 壽險－試算
- 試算: 意外傷害險－試算
- 試算: 健康醫療險－實支實付－試算
- 試算: 健康醫療險－住院手術－試算
- 試算: 健康醫療險－長期照顧－試算
- 試算: 健康醫療險－重大疾病－試算
- 試算: 生涯推薦0-18－試算
- 試算: 生涯推薦19-34－試算
- 試算: 生涯推薦35-44－試算
- 試算: 生涯推薦61歲以上－試算
- 試算: 生涯推薦45-60－試算
- 試算: 其他試算
- 好康優惠
- 商品資訊頁－網投－旅平險
- 商品資訊頁－網投－壽險
- 商品資訊頁－網投－健康險
- 商品資訊頁－網投－意外傷害險
- 商品資訊頁－網投－年金險
- 商品資訊頁－網投－投資型年金險
- 商品資訊頁－旅行平安險
- 商品資訊頁－壽險
- 商品資訊頁－健康醫療險
- 商品資訊頁－意外傷害險
- 商品資訊頁－還本與年金型保險
- 商品資訊頁－投資型保險
- 商品資訊頁－主題商品
- 生涯推薦－商品資訊頁
- 找服務（尋求服務與客服）
- 保險視圖、保單明細、資產總覽、保險明細
- 其他
  
</details>


-------------------------------

# 《 結果檔案欄位說明 》


<details>
<summary> 結果檔案欄位清單 </summary>
  
### 用戶資訊：
- **user_pseudo_id**：用戶唯一識別碼

### 預測結果 - 下一步行動推薦：
系統會預測用戶最可能執行的前種行動，按機率排序：

- **Top1_next_action_group**：最可能的下一步行動類別
- **Top1_confidence**：Top1 預測的信心度分數
- **Top2_next_action_group**：第二可能的下一步行動類別  
- **Top2_confidence**：Top2 預測的信心度分數
- **Top3_next_action_group**：第三可能的下一步行動類別
- **Top3_confidence**：Top3 預測的信心度分數
- **Top4_next_action_group**：第四可能的下一步行動類別
- **Top4_confidence**：Top4 預測的信心度分數
- **Top5_next_action_group**：第五可能的下一步行動類別
- **Top5_confidence**：Top5 預測的信心度分數

### 轉換機率預測：
- **Online_conversion_prob**：網路投保轉換機率（0-1之間的數值）
- **O2O_reservation_prob**：O2O預約轉換機率（0-1之間的數值）

### 行銷策略建議：
- **Marketing_Strategy**：系統推薦的行銷策略

### 用戶行為歷史：
#### 最近一次行為記錄
- **last_event_time**：最近一次行為的時間紀錄
- **last_platform**：最近一次行為使用的平台
- **last_action**：最近一次行為的具體行動
- **last_action_group**：最近一次行為的行動類別

#### 歷史行為軌跡（過去2~10步）
系統記錄用戶過去2~10次的行為模式，數字代表時間順序（-2為倒數第2次，以此類推）：

- **-2_action** / **-2_action_group**：倒數第2次行為的具體行動與行動類別
- **-3_action** / **-3_action_group**：倒數第3次行為的具體行動與行動類別  
- **-4_action** / **-4_action_group**：倒數第4次行為的具體行動與行動類別
- **-5_action** / **-5_action_group**：倒數第5次行為的具體行動與行動類別
- **-6_action** / **-6_action_group**：倒數第6次行為的具體行動與行動類別
- **-7_action** / **-7_action_group**：倒數第7次行為的具體行動與行動類別
- **-8_action** / **-8_action_group**：倒數第8次行為的具體行動與行動類別
- **-9_action** / **-9_action_group**：倒數第9次行為的具體行動與行動類別
- **-10_action** / **-10_action_group**：倒數第10次行為的具體行動與行動類別

## 注意事項
- 信心度分數範圍為 0-1，數值越高代表預測越可靠
- 歷史行為欄位可能包含空值，表示該時間點無相關行為記錄
- 所有機率預測值均為模型基於歷史數據計算得出

</details>




-------------------------------




# 《 行銷策略說明 》


## 目的
根據模型預測結果（下一步可能行為）與該用戶近期行為紀錄，自動推薦最合適的行銷策略，後續可用於：
推播內容選擇
廣告活動分眾
推播名單篩選
內部客服提醒與轉介策略

## 邏輯
<details>
<summary> 行銷策略推薦邏輯 </summary>
  
系統會根據用戶 預測的**下一步行為**、**最近 10 步的行為紀錄**、以及 **最後一次行為時間**，判斷是否需要推播行銷建議，以及推播內容為何。  
  
下一步行為定義： 系統每次預測會輸出用戶 Top1~Top5 的下一步行為，並從其中選擇**最具商業價值且機率最高**的action_group作為推薦策略依據。

1. ***期間內（過去十步內）已完成轉換者，不再推行銷***：

  - **過去十步內曾「完成網路投保」者** ➡️ 標註此用戶於期間內已完成網路投保」
  - **過去十步內曾「完成O2O」者** ➡️ 標註此用戶於期間內已完成預約O2O」

2. ***期間內（過去十步內）未曾完成轉換者，行銷策略推薦邏輯***：
     
  - **下一步為：「其他 / 保險視圖、保單明細、資產總覽、保險明細」**
    - ➡️ 屬於低參與意圖，持續觀察，暫不進行行銷
      
  - **下一步為：「找服務（客服需求）」**
    - 若過去10步從未點過「找服務」 ➡️  提示「找服務」位於畫面上方選單
    - 若過去10步點過超過 3 次「找服務」 ➡️ 右下角阿發顯示「Hi，需要幫忙嗎？」
      
  - **下一步為：「商品資訊頁」**
    - 若最近一次行為不是「找服務 / 試算 / 自由配 / 訂製組合」，且最近 10 步中曾造訪商品資訊頁 3 次以上 ➡️ 顯示試算入口，推動進一步互動

  - **下一步為：「好康優惠」**
    - 若最近一次行為不是「好康優惠」➡️  彈窗展示好康優惠相關資訊

  - **下一步為：「自由配 / 訂製保險組合」**
    - 若最近 3 步皆未包含「自由配 / 訂製保險組合」➡️ 顯示引導彈窗：「三個問題找到最適合你的商品！」、「一鍵搭配個人化的商品組合，只要 2 分鐘！」等

  - **下一步為：「試算」**
    - 若最近一次行為不是「找服務 / 試算 / 自由配 / 訂製保險組合」➡️ 顯示引導彈窗：「只要 2 步驟，取得商品費用估算！」

  - **下一步為：「試算結果頁」**
    - 若最近一次行為是「試算 / 自由配 / 訂製保險組合」➡️ 提供進度提醒：「就快完成了！試算結果即將產生」

  - **下一步為：「保存或分享試算結果 / 保存或分享自由配、訂製組合結果 / Line 分享轉傳」**
    - 若最近 3 步中有任何行為包含「結果」，且，
      - 下一步為「保存與分享試算結果」➡️ 提示：「對試算結果有疑問嗎？預約免費專人解讀！」
      - 下一步為「Line 分享轉傳」➡️ 鼓勵推薦、提供分享回饋誘因。

  - **下一步為：「挑顧問 / 諮詢」**
    - ➡️ 推薦顧問：「這位專家最擅長XX險，3 分鐘內確認預約」

  - **下一步為：「立即投保」**
    - ➡️ 橫幅 CTA：「立即投保享優惠！」

  - **下一步為：「方案確認 / 投保資格確認 / 資料填寫與確認 / 線上繳費 / 填寫預約資料 / 手機驗證碼」**
    - 若最近一次行為後超過 30 分鐘未行動 ➡️ 發送 EDM 引導用戶回流程
    - 若 5 分鐘內剛完成前一個轉換步驟 ➡️ 呈現進度提醒（例如：距離完成只差 2 步）

  - **下一步為：「完成網路投保 / 完成 O2O」**
    - 若最近一次行為後超過 30 分鐘未行動 ➡️ EDM 提醒尚未完成，引導用戶回流程
    - 若 5 分鐘內剛完成前一個轉換步驟 ➡️  呈現進度提醒（例如：距離完成只差 1 步）
</details>

## 行為等級定義（Level 0 ~ 8）
<details>
<summary> 為了量化用戶行為的「轉換傾向程度」，我們將每個行為分類為以下等級：</summary>


| 等級 | 類型說明                       | 代表行為範例                             |
|------|--------------------------------|------------------------------------------|
| 0    | 非核心瀏覽                | 其他、保單明細瀏覽、找客服              |
| 1    | 尋求服務類                | 找服務（尋求服務與客服）              |
| 2    | 商品探索                  | 各類商品資訊頁、好康優惠              |
| 3    | 開始探索保險規劃工具        | 自由配、訂製組合、各類試算行為                          |
| 4    | 完成試算、完成組合          | 各種試算及組合結果頁面             |
| 5    | 分享或保存結果             | 保存與分享試算結果、保存與分享自由配或訂製組合結果、Line 分享轉傳              |
| 6    | 進入轉換流程               | 挑選預約顧問、預約顧問與商品諮詢、立即投保              |
| 7    | 轉換流程                  | 填寫預約資料、資料填寫與確認、投保資格確認、方案確認、手機驗證碼、線上繳費                |
| 8    | 完成轉換                  | 完成網路投保、完成O2O                   |

</details>

